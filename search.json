[{"title":"webpack简单的配置","url":"http://zputalk.com/2017/10/24/webpack/","content":"<h1 id=\"webpack的主要功能\"><a href=\"#webpack的主要功能\" class=\"headerlink\" title=\"webpack的主要功能\"></a>webpack的主要功能</h1><p>代码分块： webpack有两种模块依赖，一种是异步，一种是同步，编译时可以将代码分为代码块，代码块可以实现按需加载。<br>Loaders：webpack只会处理js，为了将其他资源也定义为模块，并转化为javascript，webpack定义了不同的loaders，不同的loaders可以将对应的资源转化为javascript模块。<br>智能模块解析：webpack可以很容易的将第三方库转化为模块集成到项目代码中<br>webpack的可定制化插件系统，本身也是通过插件的方式实现。</p>\n<h1 id=\"webpack的安装配置\"><a href=\"#webpack的安装配置\" class=\"headerlink\" title=\"webpack的安装配置\"></a>webpack的安装配置</h1><p>webpack是基于node实现的，安装node。<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">官网下载安装 http:<span class=\"comment\">//nodejs.cn/download/</span></div><div class=\"line\">终端安装 brew install node</div></pre></td></tr></table></figure></p>\n<p>终端安装webpack-cli<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">brew install webpack -g</div></pre></td></tr></table></figure></p>\n<p>新建一个demo项目 -&gt; 新建build文件夹  -&gt; 新建webpack.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir webpack-demo</div><div class=\"line\"><span class=\"built_in\">cd</span> webpack-demo</div><div class=\"line\">mkdir dist</div><div class=\"line\">mkdir src</div><div class=\"line\"><span class=\"built_in\">cd</span> src</div><div class=\"line\">touch index.js</div><div class=\"line\"><span class=\"built_in\">cd</span> ..</div><div class=\"line\">touch index.html</div><div class=\"line\">touch webpack.config.js</div></pre></td></tr></table></figure></p>\n<p>项目结构<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">--dist</div><div class=\"line\">--src</div><div class=\"line\">  -- index.js</div><div class=\"line\">--index.html</div><div class=\"line\">--webpack.config.js</div></pre></td></tr></table></figure></p>\n<p>webpack.config.js中的配置大致分为以下结构<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</div><div class=\"line\">    entry: [],      <span class=\"comment\">// 入口文件</span></div><div class=\"line\">    output: &#123;&#125;,     <span class=\"comment\">// 出口文件</span></div><div class=\"line\">    <span class=\"built_in\">module</span>:&#123;        <span class=\"comment\">// 各种loader</span></div><div class=\"line\">        loader: [</div><div class=\"line\">            &#123;&#125;</div><div class=\"line\">        ]</div><div class=\"line\">    &#125;,</div><div class=\"line\">    devServer: &#123;    <span class=\"comment\">// webpack起的服务器</span></div><div class=\"line\">        </div><div class=\"line\">    &#125;,</div><div class=\"line\">    plugins: []     <span class=\"comment\">// 插件</span></div><div class=\"line\">    </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>入口（entry）<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</div><div class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">module</span>.exprots = &#123;</div><div class=\"line\">    entry: [__dirname + <span class=\"string\">'/src/index.js'</span>]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>出口（output）<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</div><div class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">module</span>.exprots = &#123;</div><div class=\"line\">    entry: [__dirname + <span class=\"string\">'/src/index.js'</span>],</div><div class=\"line\">    output: &#123;</div><div class=\"line\">        path: path.resolve(__dirname + <span class=\"string\">'/dist'</span>),</div><div class=\"line\">        filename: <span class=\"string\">'bundle.js'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>loaders<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</div><div class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">module</span>.exprots = &#123;</div><div class=\"line\">    entry: [__dirname + <span class=\"string\">'/src/index.js'</span>],</div><div class=\"line\">    output: &#123;</div><div class=\"line\">        path: path.resolve(__dirname + <span class=\"string\">'/dist'</span>),</div><div class=\"line\">        filename: <span class=\"string\">'bundle.js'</span></div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"built_in\">module</span>: &#123;</div><div class=\"line\">      loader: [</div><div class=\"line\">          &#123;</div><div class=\"line\">              test: <span class=\"regexp\">/\\.(css|scss)$/</span>, <span class=\"comment\">// 编译css</span></div><div class=\"line\">              exclude: <span class=\"regexp\">/common/</span>,</div><div class=\"line\">              loader: <span class=\"string\">\"style-loader!css-loader!postcss-loader!sass-loader\"</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          &#123;</div><div class=\"line\">              test: <span class=\"regexp\">/\\.js$/</span>, <span class=\"comment\">// js代码检查</span></div><div class=\"line\">              exclude: <span class=\"regexp\">/node_modules/</span>,</div><div class=\"line\">              loader: <span class=\"string\">'eslint-loader'</span></div><div class=\"line\">          &#125;</div><div class=\"line\">      ]  </div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>插件(Plugins)<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> HtmlWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'html-webpack-plugin'</span>); <span class=\"comment\">//动态引入js和css 配置html入口</span></div><div class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>);</div><div class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">module</span>.exprots = &#123;</div><div class=\"line\">    entry: [__dirname + <span class=\"string\">'/src/index.js'</span>],</div><div class=\"line\">    output: &#123;</div><div class=\"line\">        path: path.resolve(__dirname + <span class=\"string\">'/dist'</span>),</div><div class=\"line\">        filename: <span class=\"string\">'bundle.js'</span></div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"built_in\">module</span>: &#123;</div><div class=\"line\">      loader: [</div><div class=\"line\">          &#123;</div><div class=\"line\">              test: <span class=\"regexp\">/\\.(css|scss)$/</span>, <span class=\"comment\">// 编译css</span></div><div class=\"line\">              exclude: <span class=\"regexp\">/common/</span>,</div><div class=\"line\">              loader: <span class=\"string\">\"style-loader!css-loader!postcss-loader!sass-loader\"</span></div><div class=\"line\">          &#125;,</div><div class=\"line\">          &#123;</div><div class=\"line\">              test: <span class=\"regexp\">/\\.js$/</span>, <span class=\"comment\">// js代码检查</span></div><div class=\"line\">              exclude: <span class=\"regexp\">/node_modules/</span>,</div><div class=\"line\">              loader: <span class=\"string\">'eslint-loader'</span></div><div class=\"line\">          &#125;</div><div class=\"line\">      ]  </div><div class=\"line\">    &#125;,</div><div class=\"line\">    plugins: [</div><div class=\"line\">        <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;<span class=\"attr\">template</span>: <span class=\"string\">'./dist/index.html'</span>&#125;)</div><div class=\"line\">    ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>以上本文提到path.resolve 和__dirname 可看我另一篇path</p>\n","categories":[],"tags":[]},{"title":"","url":"http://zputalk.com/personal-style.css","content":"html.page-home {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url('/images/bg.jpg');\n  background-color: transparent;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n\n  /*background: linear-gradient( #1abc9c, transparent), linear-gradient( 90deg, skyblue, transparent), linear-gradient( -90deg, coral, transparent);*/\n  /*background-blend-mode: screen;*/\n\n  /*background: linear-gradient(to left, #5f2c82, #49a09d);*/\n}\n","categories":[],"tags":[]},{"title":"about","url":"http://zputalk.com/about/index.html","content":"","categories":[],"tags":[]},{"title":"category","url":"http://zputalk.com/category/index.html","content":"","categories":[],"tags":[]},{"title":"project","url":"http://zputalk.com/project/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://zputalk.com/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://zputalk.com/tag/index.html","content":"","categories":[],"tags":[]}]